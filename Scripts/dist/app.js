var app=angular.module("app",["ngRoute"]);
angular.module("app").controller("productController",["$scope","productService","$http","$routeParams",function(t,n,o,c){var e="/api/product";t.name="test name",t.id="",t.products=[],t.init=function(){console.log("init"),c.id&&(t.id=c.id),n.getProducts(e).then(function(n){t.products=n.data}).catch(function(t){})},t.add=function(){console.log(t.form.$valid);var n={name:t.name};o.post(e,n).then(function(n){t.products.push(n.data)}).catch(function(t){})},t.delete=function(n){o.delete(e+"/"+n.id).then(function(o){var c=t.products.indexOf(n);t.products.splice(c,1)}).catch(function(t){})}}]);
angular.module("app").directive("productTable",["$http","$timeout","$http",function(t,e,t){return{restrict:"E",scope:{products:"=",delete:"&"},templateUrl:"/scripts/app/product/productDirective.html",link:function(i,d,c){function n(t){e(function(){document.getElementById("product"+t.id).focus()},100)}i.editProduct={};i.$watch(function(){return i.products},function(t,e){t.length>0&&i.products.map(function(t){i.editProduct["p"+t.id]={},i.editProduct["p"+t.id].btnText="Edit",i.editProduct["p"+t.id].name=t.name})}),console.log({products:i.products,edit:i.editProduct}),i.edit=function(e){e.canSave?(e.canSave=!1,i.editProduct["p"+e.id].btnText="Saving",t.put("/api/product",e).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),i.editProduct["p"+e.id].btnText="Edit",e.isEdit=!1):(e.canSave=!0,i.editProduct["p"+e.id].btnText="Save",e.isEdit=!0,n(e))},i.blur=function(t){console.log(t),t.isEdit=!1,i.editProduct["p"+t.id].name!=t.name?(i.editProduct["p"+t.id].btnText="Save",t.canSave=!0):(i.editProduct["p"+t.id].btnText="Edit",t.canSave=!1)},i.active=function(t){t.isEdit=!0,n(t)}}}}]);
angular.module("app").service("productService",["$http",function(t){var r=this,e="/api/product";r.getProducts=function(){return t.get(e)},r.create=function(r){return t.post(e).then(function(t){return t.data})}}]);
angular.module("app").config(["$routeProvider",function(t){t.when("/",{templateUrl:"scripts/app/product/products.html",controller:"productController"}).when("/product/:id?",{templateUrl:"scripts/app/product/productsTest.html"}).otherwise({template:"<h1>No selected</h1>"})}]);
//# sourceMappingURL=maps/app.js.map
